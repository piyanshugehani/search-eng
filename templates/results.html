{% extends "layout.html" %}

{% block body %}

<!-- Search Form Section -->
<div class="max-w-4xl mx-auto mt-12 p-4 bg-white shadow-lg rounded-lg">
    <form id="form" method="POST" action="{{ url_for('results') }}" class="flex justify-between items-center space-x-4">
        {{ form.hidden_tag() }}
        <input type="search" id="query" name="searched" placeholder="Search..." aria-label="Search through site content" 
            class="w-full p-3 border border-gray-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
        <button type="submit" class="p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <svg viewBox="0 0 1024 1024" class="w-6 h-6"><path class="path1" d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"></path></svg>
        </button>
    </form>
</div>

<!-- Search Results Section -->
<div class="mt-8 max-w-4xl mx-auto">
    {% if output %}
        <div class="space-y-6">
            {% for item in output %}
                <div class="p-4 bg-gray-50 rounded-lg shadow-md">
                    <h3 class="text-2xl font-semibold text-blue-600"><a href="{{ item['links'] }}" class="hover:underline">{{ item['title'] }}</a></h3>
                    <h4 class="text-gray-500">{{ item['description'] }}</h4>
                    <a href="{{ item['links'] }}" class="text-blue-500 hover:text-blue-600">Source: {{ item['links'] }}</a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-center text-gray-500">No results found. Try a different search.</p>
    {% endif %}
</div>

{% endblock %}
